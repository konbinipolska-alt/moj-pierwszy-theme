{% comment %}
  Slider Container Section
  Container for individual slide sections placed side by side
{% endcomment %}

<div class="slider-container-section">
  <div class="slider-wrapper">
    {% for block in section.blocks %}
      {% case block.type %}
        {% when 'image_slide' %}
          {% render 'slide-image', block: block %}
        {% when 'content_slide' %}
          {% render 'slide-content', block: block %}
        {% when 'video_slide' %}
          {% render 'slide-video', block: block %}
        {% when 'product_slide' %}
          {% render 'slide-product', block: block %}
      {% endcase %}
    {% endfor %}
  </div>
</div>

{% stylesheet %}
  /* Slider Container Styles */
  .slider-container-section {
    position: relative;
    margin-top: 80px;
    width: 100vw;
    margin-left: calc(-50vw + 50%);
    padding: 0 48px;
  }

  .slider-wrapper {
    display: flex;
    gap: 12px;
    overflow-x: auto;
    scroll-behavior: smooth;
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE and Edge */
  }

  .slider-wrapper::-webkit-scrollbar {
    display: none; /* Chrome, Safari, Opera */
  }

  /* Common slide styles */
  .slide {
    width: calc((600px * 9) / 16); /* 337.5px - 9:16 aspect ratio */
    height: 600px;
    flex-shrink: 0;
    position: relative;
    border-radius: 8px;
    overflow: hidden;
    background-color: #eeeeee;
  }

  .slide-link {
    display: block;
    width: 100%;
    height: 100%;
    text-decoration: none;
    color: inherit;
  }

  .slide-link:hover {
    text-decoration: none;
  }

  /* Content slide specific styles */
  .slide-content {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 16px;
    text-align: center;
  }

  .slide-content-wrapper {
    max-width: 100%;
  }

  .slide-heading {
    font-size: 24px;
    font-weight: bold;
    margin-bottom: 16px;
    line-height: 1.2;
  }

  .slide-text {
    font-size: 16px;
    line-height: 1.6;
  }

  .slide-text p {
    margin-bottom: 12px;
  }

  .slide-text p:last-child {
    margin-bottom: 0;
  }

  /* Placeholder styles */
  .slide-placeholder {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background-color: #eeeeee;
    color: #666;
    text-align: center;
    padding: 16px;
  }

  .placeholder-icon {
    font-size: 48px;
    margin-bottom: 16px;
    opacity: 0.5;
  }

  .placeholder-text {
    font-size: 18px;
    font-weight: 600;
    margin-bottom: 8px;
  }

  .placeholder-subtext {
    font-size: 14px;
    opacity: 0.7;
  }

  /* Image slide styles */
  .slide-image {
    width: 100%;
    height: 100%;
    position: relative;
    overflow: hidden;
  }

  .slide-image-content {
    width: 100%;
    height: 100%;
    position: relative;
    overflow: hidden;
    display: block;
  }

  .slide-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    display: block;
  }

  /* Video slide styles */
  .slide-video {
    width: 100%;
    height: 100%;
    position: relative;
    overflow: hidden;
  }

  .slide-video-content {
    width: 100%;
    height: 100%;
    position: relative;
    overflow: hidden;
  }

  .slide-video-element {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
  }

  /* Product slide styles */
  .slide-product {
    display: flex;
    flex-direction: column;
    background: white;
  }

  .product-slide-inner {
    display: flex;
    flex-direction: column;
    background: white;
    border-radius: 8px;
    overflow: hidden;
    height: 100%;
    width: 100%;
  }

  .product-image {
    flex: 1;
    position: relative;
    overflow: hidden;
  }

  .product-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
  }

  .product-info {
    padding: 12px;
    background: white;
    border-top: 1px solid #e9ecef;
  }

  .product-title {
    font-size: 14px;
    font-weight: bold;
    margin-bottom: 6px;
    color: #333;
    line-height: 1.3;
  }

  .product-price {
    font-size: 12px;
    font-weight: 600;
    color: #007bff;
  }

  /* Tablet responsive */
  @media (max-width: 1024px) {
    .slider-container-section {
      padding: 0 32px;
    }
    
    .slide {
      width: calc((500px * 9) / 16); /* 281.25px */
      height: 500px;
    }
    
    .slide-content {
      padding: 12px;
    }
    
    .slide-heading {
      font-size: 20px;
    }
    
    .slide-text {
      font-size: 14px;
    }
    
    .slide-placeholder {
      padding: 12px;
    }
    
    .placeholder-icon {
      font-size: 40px;
    }
    
    .placeholder-text {
      font-size: 16px;
    }
  }

  /* Mobile responsive */
  @media (max-width: 768px) {
    .slider-container-section {
      padding: 0 20px;
    }
    
    .slide {
      width: calc((400px * 9) / 16); /* 225px */
      height: 400px;
    }
    
    .slide-content {
      padding: 8px;
    }
    
    .slide-heading {
      font-size: 18px;
    }
    
    .slide-text {
      font-size: 12px;
    }
    
    .slide-placeholder {
      padding: 8px;
    }
    
    .placeholder-icon {
      font-size: 32px;
    }
    
    .placeholder-text {
      font-size: 14px;
    }
  }
{% endstylesheet %}

{% schema %}
{
  "name": "Slider Container",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "header",
      "content": "Slider Settings"
    },
    {
      "type": "text",
      "id": "section_title",
      "label": "Section Title",
      "default": "Featured Content"
    }
  ],
  "blocks": [
    {
      "type": "image_slide",
      "name": "Image Slide",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link URL"
        },
        {
          "type": "text",
          "id": "alt_text",
          "label": "Alt Text",
          "default": "Image slide"
        }
      ]
    },
    {
      "type": "content_slide",
      "name": "Content Slide",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Slide Heading"
        },
        {
          "type": "richtext",
          "id": "text",
          "label": "Text",
          "default": "<p>Add your text here</p>"
        },
        {
          "type": "color",
          "id": "background_color",
          "label": "Background Color",
          "default": "#eeeeee"
        },
        {
          "type": "color",
          "id": "text_color",
          "label": "Text Color",
          "default": "#333333"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link URL"
        }
      ]
    },
    {
      "type": "video_slide",
      "name": "Video Slide",
      "settings": [
        {
          "type": "video_url",
          "id": "video_url",
          "label": "Video URL",
          "accept": ["youtube", "vimeo"]
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link URL"
        }
      ]
    },
    {
      "type": "product_slide",
      "name": "Product Slide",
      "settings": [
        {
          "type": "product",
          "id": "product",
          "label": "Product"
        },
        {
          "type": "text",
          "id": "heading",
          "label": "Heading (optional)"
        },
        {
          "type": "richtext",
          "id": "text",
          "label": "Text (optional)"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link URL (overrides product link)"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Slider Container",
      "blocks": [
        {
          "type": "image_slide"
        },
        {
          "type": "content_slide"
        },
        {
          "type": "product_slide"
        }
      ]
    }
  ]
}
{% endschema %}
